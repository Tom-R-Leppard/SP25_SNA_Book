{
  "hash": "06138366b893ed6d03fa2ac6aaceec55",
  "result": {
    "engine": "knitr",
    "markdown": "\n\n\n\n\n\n\n# Two Mode Networks - Edgelists\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(igraph)\n```\n:::\n\n\n\n\n\n\nThere is a slightly different approach to bringing in Two mode network data from an Edgelist than from an Adjacency matrix. Instead of a two mode matrix, you may have edgelist data in two mode format. \\## Two Mode Edgelists First, bring it in and make it a network object.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhp_tm_edgelist <- read.csv(file.choose())\nhead(hp_tm_edgelist)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n         character      group\n1 Albus Dumbledore    Phoenix\n2 Albus Dumbledore    Prefect\n3 Albus Dumbledore Gryffindor\n4      Remus Lupin    Phoenix\n5      Remus Lupin    Prefect\n6      Remus Lupin Gryffindor\n```\n\n\n:::\n:::\n\n\n\n\n\n\nDifferent from the adjacency matrix, this edge list has one type of node in one column and the other type in the second column.\n\nThis is the same process as any other network. Directed is set to FALSE\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhp_tm_net <- graph_from_data_frame(hp_tm_edgelist, directed = FALSE)\n```\n:::\n\n\n\n\n\n\nLet's check to see if this is actually a two mode network using bipartite_mapping. This function goes through the edgelist an ensures that the columns have distinct nodes in them (i.e. it is truly a bipartite or two mod network).\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbipartite_mapping(hp_tm_net)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$res\n[1] TRUE\n\n$type\n      Albus Dumbledore            Remus Lupin          Molly Weasley \n                 FALSE                  FALSE                  FALSE \n          Siruis Black          Severus Snape          Alastor Moody \n                 FALSE                  FALSE                  FALSE \n    Minerva McGonagall          Rubeus Hagrid   Kingsley Shacklebolt \n                 FALSE                  FALSE                  FALSE \n      Nymphadora Tonks     Mundungus Fletcher         Dedalus Diggle \n                 FALSE                  FALSE                  FALSE \n          Elphias Dode   Aberforth Dumbledore          Arabella Figg \n                 FALSE                  FALSE                  FALSE \n        Emmeline Vance        Sturgis Podmore           Hestia Jones \n                 FALSE                  FALSE                  FALSE \n       Aurthur Weasley           Bill Weasley        Charlie Weasley \n                 FALSE                  FALSE                  FALSE \n      Hermione Granger           Harry Potter              Cho Chang \n                 FALSE                  FALSE                  FALSE \n           Ron Weasley         Lavendar Brown         George Weasley \n                 FALSE                  FALSE                  FALSE \n          Fred Weasley     Neville Longbottom          Colin Creevey \n                 FALSE                  FALSE                  FALSE \n         Luna Lovegood            Dean Thomas             Katie Bell \n                 FALSE                  FALSE                  FALSE \n      Angelina Johnson          Hannah Abbott             Lee Jordon \n                 FALSE                  FALSE                  FALSE \n     Anthony Goldstein         Ernie Macmilan Justin Finch-Fletchley \n                 FALSE                  FALSE                  FALSE \n           Padma Patil        Seamus Finnigan            Susan Bones \n                 FALSE                  FALSE                  FALSE \n    Marietta Edgecombe         Alicia Spinnet         Dennis Creevey \n                 FALSE                  FALSE                  FALSE \n         Ginny Weasley          Parvati Patil          Nigel Wolpert \n                 FALSE                  FALSE                  FALSE \n       Cormac McLaggen           Romilda Vane         Michael Corner \n                 FALSE                  FALSE                  FALSE \n            Terry Boot         Maisy Reynolds                 Leanne \n                 FALSE                  FALSE                  FALSE \n       Zacharias Smith            Luca Caruso           Alice Toplin \n                 FALSE                  FALSE                  FALSE \n          James Potter           Lilly Potter         Peter Petigrew \n                 FALSE                  FALSE                  FALSE \n        Fabian Prewett         Gideon Prewett       Frank Longbottom \n                 FALSE                  FALSE                  FALSE \n      Alice Longbottom            Edgar Bones          Benjy Fenwick \n                 FALSE                  FALSE                  FALSE \n      Caradoc Dearborn        Dorcas Meadowes       Marlene McKinnon \n                 FALSE                  FALSE                  FALSE \n        Fleur Delacour    Bellatrix Lestrange          Lucius Malfoy \n                 FALSE                  FALSE                  FALSE \n        Igor Karkaroff          Regulus Black        Barty Crouch Jr \n                 FALSE                  FALSE                  FALSE \n       Antonin Dolohov         Thorfinn Rowle      Augustus Rookwood \n                 FALSE                  FALSE                  FALSE \n           Evan Rosier         Walden Macnair          Alecto Carrow \n                 FALSE                  FALSE                  FALSE \n         Amycus Carrow              Avery Jnr          Corban Yaxley \n                 FALSE                  FALSE                  FALSE \n            Crabbe Snr           Draco Malfoy                 Gibbon \n                 FALSE                  FALSE                  FALSE \n             Goyle Snr                 Jugson           Mulciber Snr \n                 FALSE                  FALSE                  FALSE \n          Mulciber Jnr               Nott Snr     Rabastan Lestrange \n                 FALSE                  FALSE                  FALSE \n   Rodolphus Lestrange                 Tavers        Pansy Parkinson \n                 FALSE                  FALSE                  FALSE \n   Millicent Bulstrode         Vincent Crabbe          Gregory Goyle \n                 FALSE                  FALSE                  FALSE \n       Graham Montague     Cassius Warrington            Argus Filch \n                 FALSE                  FALSE                  FALSE \n      Dolores Umbridge             Jane Court         Gabriel Truman \n                 FALSE                  FALSE                  FALSE \n        Cedric Diggory    Constance Pickering        Natalie Kathryn \n                 FALSE                  FALSE                  FALSE \n            Tom Riddle           Felix Rosier           Gemma Farley \n                 FALSE                  FALSE                  FALSE \n      Penelope Padgett           Rodrick Lyme          Annalena Murk \n                 FALSE                  FALSE                  FALSE \n         Angelica Cole          Percy Weasley       Freddie Clemmons \n                 FALSE                  FALSE                  FALSE \n           Dani Caroll          Marcus Turner    Penelope Clearwater \n                 FALSE                  FALSE                  FALSE \n        Robert Hillard         Chester Davies                Phoenix \n                 FALSE                  FALSE                   TRUE \n               Prefect             Gryffindor           Death.Eaters \n                  TRUE                   TRUE                   TRUE \n             Slytherin             Hufflepuff              Ravenclaw \n                  TRUE                   TRUE                   TRUE \n     Dumbeldore.s.Army    Inquisitorial.Squad \n                  TRUE                   TRUE \n```\n\n\n:::\n:::\n\n\n\n\n\n\nIt recognises that there are two types of node in this object, so we can set that as a vertex characteristic.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nV(hp_tm_net)$type <- bipartite_mapping(hp_tm_net)$type\n```\n:::\n\n\n\n\n\n\nNow we have changed it into a two mode network and added the characteristic \"type\" that we are familiar with from wokring on the adjacecny matrix version.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nV(hp_tm_net)$type \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [25] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [37] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [49] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [61] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [73] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [85] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n [97] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n[109] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE\n[121] FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n```\n\n\n:::\n:::\n\n\n\n\n\n\nYou see the true and false statements, as we expect to see. Since this is the case, we will need to use the same +1 alteration to the arguments in our visualisation.\n\nWhen we plot it, it looks how we expect!\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nshapes <- c(\"circle\", \"square\")\ncolors <-c(\"green\", \"orange\")\nplot(hp_tm_net, vertex.color=colors[V(hp_tm_net)$type+1],\n     vertex.shape=shapes[V(hp_tm_net)$type+1], vertex.label = NA)\n```\n\n::: {.cell-output-display}\n![](Two-Mode-Networks---Edgelists_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Two-Mode-Networks---Edgelists_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}